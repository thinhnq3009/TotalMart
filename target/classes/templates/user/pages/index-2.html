<!DOCTYPE html>
<html lang="en" xmlns:th="http://www.thymeleaf.org">

<head>

    <title>FreshCart - eCommerce HTML Template</title>
    <link href="/public/user/libs/tiny-slider/dist/tiny-slider.css" rel="stylesheet">
    <link href="/public/user/libs/slick-carousel/slick/slick.css" rel="stylesheet"/>
    <link href="/public/user/libs/slick-carousel/slick/slick-theme.css" rel="stylesheet"/>
    <!-- Required meta tags -->
    <meta charset="utf-8">
    <meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">
    <meta name="description" content="">
    <meta content="Codescandy" name="author">

    <!-- Favicon icon-->
    <link rel="shortcut icon" type="image/x-icon" href="/public/user/images/favicon/favicon.ico">


    <!-- Libs CSS -->
    <link href="/public/user/libs/bootstrap-icons/font/bootstrap-icons.css" rel="stylesheet">
    <link href="/public/user/libs/feather-webfont/dist/feather-icons.css" rel="stylesheet">
    <link href="/public/user/libs/simplebar/dist/simplebar.min.css" rel="stylesheet">


    <!-- Theme CSS -->
    <link rel="stylesheet" href="/public/user/css/theme.min.css">


</head>

<body>

<!-- navigation -->
<header th:replace="~{/user/fragments/header :: large-header}"></header>



<nav th:replace="~{/user/fragments/navbar :: navbar}"></nav>


<div th:replace="~{/user/fragments/cart-modal :: cart-modal}"></div>


<main>

    <!-- section -->
    <section class="my-lg-14 my-8">
        <!-- category -->
        <div class="container">
            <!-- row -->
            <div class="row">
                <div class="col-12">
                    <div class="mb-8">
                        <!-- heading -->
                        <h3 class="mb-0">Shop by Category</h3>
                    </div>
                </div>

            </div>
            <!-- row -->
            <div class="row row-cols-2 row-cols-md-3 row-cols-lg-4 row-cols-xxl-6 g-6">
                <!-- col -->
                <!-- Categories-render-->
                <!--/*@thymesVar id="categories" type="java.util.List<eco.mart.totalmart.entities.Category>"*/-->
                <div
                        th:each="category,iter : ${categories}"
                        th:if="${iter.index < 6}"
                        class="col">
                <!--/*@thymesVar id="category" type="eco.mart.totalmart.entities.Category"*/-->
                    <a th:href="${category.url}" class="text-decoration-none text-inherit">
                        <!-- card -->
                        <div class="card card-product">
                            <div class="card-body text-center py-8">
                                <!-- img -->
                                <img th:src="${category.poster}"
                                     th:alt="${category.name}"
                                     width="120"
                                     height="120"
                                     class="mb-3 object-fit-contain">
                                <!-- text -->
                                <div class="text-truncate" th:text="${category.name}"></div>
                            </div>
                        </div>
                    </a>
                </div>
            </div>


        </div>
    </section>
    <!-- section -->
    <section th:each="categoryGroup : ${groups}">
        <div class="container mb-5">
            <!-- row -->
            <div class="row">
                <div class="col-12 mb-6">
                    <!-- heading -->
                    <h3 class="mb-1" th:text="${categoryGroup.name}"></h3>
                    <!--                    <p class="mb-0">eat fresh, stay healthy</p>-->
                </div>
            </div>
            <!-- slider -->
            <div class="product-slider">
                <!-- item -->
                <div th:each="product : ${categoryGroup.allProduct}" class="item h-100">
                    <!-- item -->
                    <div class="card card-product h-100">
                        <div class="card-body">
                            <!-- badge -->
                            <div class="text-center position-relative ">
                                <div class=" position-absolute top-0 start-0">
                                    <span class="badge bg-danger">Sale</span>
                                </div>
                                <!-- img -->
                                <!-- img -->
                                <a th:href="@{|/detail/${product.id}|}">
                                    <img th:src="@{${product.poster}}"
                                         alt="Grocery Ecommerce Template"
                                         class="mb-3 img-fluid">
                                </a>
                            </div>
                            <!-- title -->

                            <div class="text-small mb-1">
                                <a th:href="@{|/detail/${product.id}|}"
                                   class="text-decoration-none text-muted">
                                    <small th:text="${product.category.name}"></small>
                                </a>
                            </div>
                            <h2 class="fs-6"><a href="#!" class="text-inherit text-decoration-none"
                                                th:text="${product.name}"></a></h2>
                            <div>
                                <!-- rating -->

                                <small class="text-warning"> <i class="bi bi-star-fill"></i>
                                    <i class="bi bi-star-fill"></i>
                                    <i class="bi bi-star-fill"></i>
                                    <i class="bi bi-star-fill"></i>
                                    <i class="bi bi-star-half"></i></small> <span
                                    class="text-muted small">4.5(149)</span>
                            </div>
                            <!-- price -->
                            <div class="d-flex justify-content-between align-items-center mt-3">
                                <div>
                                    <h6 class="text-dark m-0"
                                          th:attr="data-money=${product.salePrice}"
                                    >
                                    </h6>
                                    <span class="text-decoration-line-through text-muted"
                                          th:attr="data-money=${product.basePrice}"
                                    ></span>
                                </div>
                                <!-- btn -->
                                <div>
                                    <button class="btn btn-primary btn-sm px-2" th:attr="btn-add-cart=${product.id}">
                                        <i class="bi bi-cart-plus fs-4"></i>
                                    </button>
                                </div>
                            </div>
                        </div>
                    </div>
                </div>
            </div>
        </div>
    </section>
    <!-- section -->
</main>



<footer th:replace="~{/user/fragments/footer :: footer}"></footer>
<!-- Libs JS -->
<script src="/public/user/libs/jquery/dist/jquery.min.js"></script>
<script src="/public/user/libs/bootstrap/dist/js/bootstrap.bundle.min.js"></script>
<script src="/public/user/libs/simplebar/dist/simplebar.min.js"></script>

<!-- Theme JS -->
<script src="/public/user/js/theme.min.js"></script>
<script src="/public/user/libs/slick-carousel/slick/slick.min.js"></script>
<script src="/public/user/js/vendors/slick-slider.js"></script>
<script src="/public/user/libs/tiny-slider/dist/min/tiny-slider.js"></script>
<script src="/public/user/js/vendors/tns-slider.js"></script>
<script src="/public/user/js/vendors/zoom.js"></script>
<script src="/public/user/js/vendors/increment-value.js"></script>

<!--Custom JS-->
<script src="/public/user/js/custom/clickHandler.js"></script>
<script src="/public/user/js/custom/required.js"></script>
<script src="/public/user/js/custom/money-formatter.js"></script>
<script src="/public/user/js/custom/addCart.js"></script>

<div th:replace="~{/user/fragments/notification :: full-container}">

</div>

</body>

</html>