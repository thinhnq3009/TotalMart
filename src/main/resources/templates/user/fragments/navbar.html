<!DOCTYPE html>
<html lang="en"
      xmlns:th="http://www.thymeleaf.org"
      xmlns:sec="http://www.thymeleaf.org/extras/spring-security"
>
<head>
    <meta charset="UTF-8">
    <title>Title</title>
</head>
<body>
<div class="border-bottom pb-lg-4 pb-3" th:fragment="navbar">
    <nav class="navbar navbar-expand-lg navbar-light navbar-default pt-0 pb-0">
        <div class="container px-0 px-md-3">
            <div class="dropdown me-3 d-none d-lg-block">
                <a class="btn btn-primary px-6 "
                    href="/">
                        <span class="me-1">
                            <svg xmlns="http://www.w3.org/2000/svg" width="16" height="16" viewBox="0 0 24 24"
                                 fill="none" stroke="currentColor" stroke-width="1.2" stroke-linecap="round"
                                 stroke-linejoin="round" class="feather feather-grid">
                                <rect x="3" y="3" width="7" height="7"></rect>
                                <rect x="14" y="3" width="7" height="7"></rect>
                                <rect x="14" y="14" width="7" height="7"></rect>
                                <rect x="3" y="14" width="7" height="7"></rect>
                            </svg></span>
                    All Departments
                </a>
<!--                <ul class="dropdown-menu" aria-labelledby="dropdownMenuButton1">-->
<!--                    &lt;!&ndash;/*@thymesVar id="categoryGroups" type=""*/&ndash;&gt;-->
<!--                    <li th:each="item : ${categoryGroups}">-->
<!--                        <a class="dropdown-item" th:href="@{|${item.url}|}" th:text="${item.name}"></a>-->
<!--                    </li>-->
<!--                </ul>-->
            </div>
            <div class="offcanvas offcanvas-start p-4 p-lg-0" id="navbar-default">
                <div class="d-flex justify-content-between align-items-center mb-2 d-block d-lg-none">
                    <a href="./index.html">
                        <img src="/public/user/images/logo/freshcart-logo.svg"
                             alt="eCommerce HTML Template">
                    </a>
                    <button type="button" class="btn-close" data-bs-dismiss="offcanvas" aria-label="Close"></button>
                </div>
                <div class="d-block d-lg-none mb-2 pt-2">
                    <a class="btn btn-primary w-100 d-flex justify-content-center align-items-center"
                      href="/">
                            <span class="me-2"><svg xmlns="http://www.w3.org/2000/svg" width="16" height="16"
                                                    viewBox="0 0 24 24" fill="none" stroke="currentColor"
                                                    stroke-width="1.5"
                                                    stroke-linecap="round" stroke-linejoin="round"
                                                    class="feather feather-grid">
                                    <rect x="3" y="3" width="7" height="7"></rect>
                                    <rect x="14" y="3" width="7" height="7"></rect>
                                    <rect x="14" y="14" width="7" height="7"></rect>
                                    <rect x="3" y="14" width="7" height="7"></rect>
                                </svg></span>
                        All Departments
                    </a>
                    <div class="collapse mt-2" id="collapseExample">
                        <div class="card card-body">
                            <ul class="mb-0 list-unstyled">
                                <li th:each="item : ${categoryGroups}">
                                    <a class="dropdown-item" th:href="@{|${item.url}|}" th:text="${item.name}"></a>
                                </li>
                            </ul>
                        </div>
                    </div>
                </div>
                <div class="d-lg-none d-block mb-3">
                    <button type="button" class="btn  btn-outline-gray-400 text-muted w-100 " data-bs-toggle="modal"
                            data-bs-target="#locationModal">
                        <i class="feather-icon icon-map-pin me-2"></i>
                        Pick Location
                    </button>
                </div>
                <div class="d-none d-lg-block">
                    <ul class="navbar-nav ">
                        <li class="nav-item dropdown"
                            th:each="item : ${categoryGroups}"
                            th:if="${!item.categories.isEmpty()}"
                            >
                            <a class="nav-link dropdown-toggle"
                               role="button"
                               data-bs-toggle="dropdown"
                               aria-expanded="false" th:text="${item.name}"></a>
                            <ul class="dropdown-menu" th:if="${!item.categories.isEmpty()}">
                                <li th:each="subMenu : ${item.categories}">
                                    <a class="dropdown-item" th:href="@{|${subMenu.url}|}"
                                       th:text="${subMenu.name}"></a>
                                </li>
                            </ul>
                        </li>
                    </ul>
                </div>
                <div class="d-block d-lg-none">
                    <ul class="navbar-nav ">
                        <li class="nav-item dropdown"
                            th:if="${!item.categories.isEmpty()}"
                            th:each="item : ${categoryGroups}">
                            <a class="nav-link dropdown-toggle"
                               role="button"
                               data-bs-toggle="dropdown"
                               aria-expanded="false" th:text="${item.name}"></a>
                            <ul class="dropdown-menu" th:if="${!item.categories.isEmpty()}">
                                <li th:each="subMenu : ${item.categories}">
                                    <a class="dropdown-item" th:href="@{|${subMenu.url}|}"
                                       th:text="${subMenu.name}"></a>
                                </li>
                            </ul>
                        </li>
                    </ul>
                </div>
            </div>
        </div>
    </nav>
</div>
</body>
</html>