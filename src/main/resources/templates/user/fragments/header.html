<!DOCTYPE html>
<html xmlns:th="http://www.thymeleaf.org" lang="en">
<head>
    <meta charset="UTF-8">
    <title>Title</title>
</head>
<body>

<!-- navigation -->
<header th:fragment="large-header">
    <!-- Mini Header-->
    <div class="bg-light py-1">
        <div class="container">
            <div class="row">
                <div class="col-md-6 col-12 text-center text-md-start">
                    <span> Super Value Deals - Save more with coupons</span>
                </div>
                <div class="col-6 text-end d-none d-md-block">
                    <div class="dropdown">
                        <a class="dropdown-toggle text-decoration-none  text-muted" href="#" role="button"
                           data-bs-toggle="dropdown" aria-expanded="false">
                               <span class="me-1">
                                   <span th:replace="~{/user/fragments/flags  :: english}"></span>
                               </span>
                            English
                        </a>
                        <ul class="dropdown-menu">
                            <li>
                                <a class="dropdown-item " href="#">
                                    <span class="me-2">
                                        <span th:replace="~{/user/fragments/flags :: vietnamese}"></span>
                                    </span>
                                    Vietnamese
                                </a>
                            </li>
                        </ul>
                    </div>
                </div>
            </div>
        </div>
    </div>

    <div class="navbar navbar-light py-lg-4 pt-3 px-0 pb-0">
        <div class="container">
            <div class="d-flex w-100 align-items-center g-lg-2 g-0">
                <div class="col-xxl-2 col-lg-3">
                    <a class="navbar-brand d-none d-lg-block" href="/">
                        <img src="/public/user/images/logo/freshcart-logo.svg" alt="eCommerce HTML Template">
                    </a>
                    <div class="d-flex justify-content-between w-100 d-lg-none">
                        <a class="navbar-brand" href="/">
                            <img src="/public/user/images/logo/freshcart-logo.svg" alt="eCommerce HTML Template">
                        </a>
                        <div class="d-flex align-items-center lh-1">
                            <div class="list-inline me-2">
                                <div class="list-inline-item">
                                    <a href="#!" class="text-muted" data-bs-toggle="modal"
                                       data-bs-target="#userModal">
                                        <svg xmlns="http://www.w3.org/2000/svg" width="20" height="20"
                                             viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2"
                                             stroke-linecap="round" stroke-linejoin="round"
                                             class="feather feather-user">
                                            <path d="M20 21v-2a4 4 0 0 0-4-4H8a4 4 0 0 0-4 4v2"></path>
                                            <circle cx="12" cy="7" r="4"></circle>
                                        </svg>
                                    </a>
                                </div>
                                <div class="list-inline-item">
                                    <a class="text-muted position-relative " data-bs-toggle="offcanvas"
                                       data-bs-target="#offcanvasRight" href="#offcanvasExample" role="button"
                                       aria-controls="offcanvasRight">
                                        <svg xmlns="http://www.w3.org/2000/svg" width="20" height="20"
                                             viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2"
                                             stroke-linecap="round" stroke-linejoin="round"
                                             class="feather feather-shopping-bag">
                                            <path d="M6 2L3 6v14a2 2 0 0 0 2 2h14a2 2 0 0 0 2-2V6l-3-4z"></path>
                                            <line x1="3" y1="6" x2="21" y2="6"></line>
                                            <path d="M16 10a4 4 0 0 1-8 0"></path>
                                        </svg>
                                        <span
                                                class="position-absolute top-0 start-100 translate-middle badge rounded-pill bg-success">
                                                1
                                                <span class="visually-hidden">unread messages</span>
                                            </span>
                                    </a>
                                </div>
                            </div>
                            <!-- Button -->
                            <button class="navbar-toggler collapsed" type="button" data-bs-toggle="offcanvas"
                                    data-bs-target="#navbar-default" aria-controls="navbar-default"
                                    aria-expanded="false" aria-label="Toggle navigation">
                                <span class="icon-bar top-bar mt-0"></span>
                                <span class="icon-bar middle-bar"></span>
                                <span class="icon-bar bottom-bar"></span>
                            </button>
                        </div>
                    </div>
                </div>
                <div class="col-xxl-6 col-lg-5 d-none d-lg-block  flex-grow-1">
                    <form action="#">
                        <div class="input-group ">
                            <input class="form-control rounded-3" type="search" value="Search for products"
                                   id="searchInput">
                            <span class="input-group-append">
                                    <button class="btn bg-white border border-start-0 ms-n10" type="button">
                                        <svg xmlns="http://www.w3.org/2000/svg" width="16" height="16"
                                             viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2"
                                             stroke-linecap="round" stroke-linejoin="round"
                                             class="feather feather-search">
                                            <circle cx="11" cy="11" r="8"></circle>
                                            <line x1="21" y1="21" x2="16.65" y2="16.65"></line>
                                        </svg>
                                    </button>
                                </span>
                        </div>
                    </form>
                </div>

                <!--/*@thymesVar id="user" type="eco.mart.totalmart.entities.User"*/-->
                <div class="text-end d-none d-lg-flex justify-content-end">
                    <ul th:if="${user != null}" class="list-unstyled d-flex align-items-center mb-0">
                        <li class="mx-4 px-3">
                            <a class="text-muted position-relative " href="/cart">
                                <svg xmlns="http://www.w3.org/2000/svg" width="20" height="20" viewBox="0 0 24 24"
                                     fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round"
                                     stroke-linejoin="round" class="feather feather-shopping-bag">
                                    <path d="M6 2L3 6v14a2 2 0 0 0 2 2h14a2 2 0 0 0 2-2V6l-3-4z"></path>
                                    <line x1="3" y1="6" x2="21" y2="6"></line>
                                    <path d="M16 10a4 4 0 0 1-8 0"></path>
                                </svg>
                                <span
                                        th:if="${user.carts.size() > 0}"
                                        th:text="${user.carts.size() > 9 ? '9+' : user.carts.size()}"
                                        class="position-absolute top-0 start-100 translate-middle badge rounded-pill bg-success">
                                    </span>
                            </a>
                        </li>
                        <li class="dropdown ms-4">
                            <a href="#" role="button" data-bs-toggle="dropdown" aria-expanded="false">
                                <img th:src="${user.avatar}" alt=""
                                     class="avatar avatar-md rounded-circle">
                            </a>

                            <div class="dropdown-menu dropdown-menu-end p-0">


                                <div class="lh-1 px-5 py-4 border-bottom">
                                    <h5 class="mb-1 h6" th:text="${user.fullname}"></h5>
                                    <small th:text="${user.email}"></small>
                                </div>


                                <ul class="list-unstyled px-2 py-3">
                                    <li>
                                        <a class="dropdown-item" href="#!">
                                            Home
                                        </a>
                                    </li>
                                    <li>
                                        <a class="dropdown-item" href="#!">
                                            Profile
                                        </a>
                                    </li>

                                    <li>
                                        <a class="dropdown-item" href="#!">
                                            Wish list
                                        </a>
                                    </li>
                                    <li th:if="${user.role.name() == 'ADMIN'}">
                                        <a class="dropdown-item" href="/admin/dashboard">
                                            Admin Dashboard
                                        </a>
                                    </li>
                                </ul>
                                <div class="border-top px-5 py-3">
                                    <a href="/logout">Log Out</a>
                                </div>
                            </div>

                        </li>
                    </ul>

                    <div th:if="${user == null}" class="d-inline-flex ms-3">
                        <a href="/account/login" class="btn btn-outline-primary mx-3">Login</a>
                        <a href="/account/register" class="btn btn-outline-primary mx-3">Register</a>
                    </div>
                </div>
            </div>
        </div>
    </div>
</header>


<div th:fragment="mini-header" class="border-bottom shadow-sm">
    <nav class="navbar navbar-light py-2">
        <div class="container justify-content-center justify-content-lg-between">
            <a class="navbar-brand" href="/">
                <img src="/public/user/images/logo/freshcart-logo.svg" alt="" class="d-inline-block align-text-top">
            </a>
            <span class="navbar-text">
        Already have an account? <a href="/account/register">Sign in</a>
      </span>
        </div>
    </nav>
</div>
</body>
</html>